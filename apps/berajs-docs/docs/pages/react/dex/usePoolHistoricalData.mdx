# usePoolHistoricalData

Hook to fetch a list daily pool history data points up to the past 90 days given a pool's shareAddress.

## Initialization

Ensure you have followed the steps from [React > Getting Started](/react/getting-started) before getting started

## Import

```ts
import { usePoolHistoricalData } from "@bera/berajs";
```

## Usage

```ts
import { usePoolHistoricalData } from "@bera/berajs";

const pool: PoolV2 = ...

function App() {
    const { data: recentSwaps, isLoading } = usePoolHistoricalData({ shareAddress: pool.shareAddress });

    ...
};
```

## Parameters

#### Call signature

```ts
function usePoolHistoricalData(
  args: { shareAddress: string },
  options?: DefaultHookOptions,
);
```

#### args: `{ shareAddress: string }`

| Name           | type     | Description                                                                                   | Required |
| -------------- | :------- | :-------------------------------------------------------------------------------------------- | :------: |
| `shareAddress` | `string` | The blockchain address of a pool used to fetch pool information from the indexer ex ("0x...") |  `true`  |

## Returns

#### Return type: `DefaultHookReturnType<PoolHistoryResponse | undefined>`

| Name           | type                                      | Description                                                                | Optional |
| -------------- | :---------------------------------------- | :------------------------------------------------------------------------- | :------: |
| `data`         | `PoolHistoryResponse \| undefined`        | The requested pool's historical data                                       |  `true`  |
| `error`        | `any \| undefined`                        | any errors while fetching the data                                         |  `true`  |
| `mutate`       | `(newData?: PoolHistoryResponse) => void` | swr mutate to refetch or manually update the data in cache if arg provided |  `true`  |
| `refetch`      | `() => void`                              | swr mutate to refetch the data                                             |  `true`  |
| `isValidating` | `boolean`                                 | boolean flag representing whether the hook is currently validating data    | `false`  |
| `isLoading`    | `boolean`                                 | boolean flag representing whether the hook is currently loading data       | `false`  |

### `PoolHistoryResponse`

- #### `info`: `PoolHistoryResponse_Info`

| Name           | type                 | Description                                               | Optional |
| -------------- | :------------------- | :-------------------------------------------------------- | :------: |
| `id`           | `string`             | Id of pool                                                |  `true`  |
| `poolIdx`      | `string`             | Pool idx                                                  |  `true`  |
| `base`         | `string`             | The pool's base token's name                              |  `true`  |
| `quote`        | `string`             | The pool's quote token's name                             |  `true`  |
| `timeCreate`   | `string`             | UNIX timestamp of the time the pool was created           |  `true`  |
| `baseInfo`     | `string`             | Base token details                                        |  `true`  |
| `quoteInfo`    | `string`             | Quote token details                                       |  `true`  |
| `template`     | `{feeRate?: number}` | Pool's fee rate structure                                 |  `true`  |
| `shareAddress` | `{address?: string}` | The pool's id to fetch/retrieve pool details from indexer |  `true`  |

- #### `history`: `PoolDayDataV2[]`

:::info
Type `PoolDayDataV2` is from `@bera/graphql`
:::

```ts
import { type PoolDayDataV2 } from "@bera/graphql";
```

| Name               | type     | Description                                                                                 | Optional |
| ------------------ | :------- | :------------------------------------------------------------------------------------------ | :------: |
| `day`              | `number` | UNIX timestamp of day for this 24 hour data snapshot                                        | `false`  |
| `volume24HInHoney` | `number` | Estimated USD value of the trade volume in the pool over the past 24 hours                  | `false`  |
| `tvlInHoney`       | `number` | Estimated USD value of the total value locked in the pool at the end of this 24 hour period | `false`  |
| `fees24HInHoney`   | `number` | Estimated USD value of the fees paid in pool transactions over the past 24 hours            | `false`  |

See type [`DefaultHookReturnType<T>`](/types/DefaultHookReturnType/)
